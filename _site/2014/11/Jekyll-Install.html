﻿<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="../stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="../javascripts/script.js"></script>

  <title>马文斌@博客</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">马文斌@博客</h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/mwb1219" class="code">阅读正文</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
		


<!-- Blog Post -->
<!-- Title -->
<h2>
  Jekyll安装及写静态博客
  <div class="post-date"><a href="https://github.com/panxw/panxw.github.com/edit/master/_posts/2014-11-27-Jekyll-Install.md" target="_blank">纠错</a>&nbsp;&nbsp;
	<span class="glyphicon glyphicon-time"></span>
	27 Nov 2014
  </div>
</h2>
<!-- Author -->
<hr>
<h2>1、下载、安装 ruby 和 DEVELOPMENT KIT</h2>

<p>地址 <a href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a></p>

<pre><code>Ruby 1.9.3-p545 对应 DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe
ruby安装到C:\Ruby193;
DevKit安装到C:\rubydevkit

cd C:\rubydevkit
ruby dk.rb init
ruby dk.rb install
</code></pre>

<h2>2、更改gem镜像到 taobao网，可以改善国内Ruby安装的速度</h2>

<pre><code>gem sources --remove https://rubygems.org/
gem sources -a https://ruby.taobao.org/
gem sources -l         #查看是否只有taobao镜像
gem update --system    #更新RubyGems软件
</code></pre>

<h2>3、安装jekyll</h2>

<pre><code>gem install jekyll
</code></pre>

<h2>4、安装rdiscount，这个是用来解析Markdown标记的解析包。</h2>

<pre><code>gem install rdiscount
</code></pre>

<h2>5、写markdown</h2>

<p>一定要确保你的文章要保存为UTF-8 无 BOM 格式才行。 文件名称不能是中文</p>

<h2>6、编译md文件，启动博客</h2>

<pre><code>jekyll serve
</code></pre>

<h2>7、相关错误处理</h2>

<p>错误1</p>

<p>Generating... c:/Ruby193/lib/ruby/gems/1.9.1/gems/posix-spawn-0.3.8/lib/po  <br/>
six/spawn.rb:162: warning: cannot close fd before spawn
'which' 不是内部或外部命令，也不是可运行的程序</p>

<pre><code>需要安装Python

gem install pygments.rb --version "=0.5.0"
gem uninstall pygments.rb --version "=0.5.2"
</code></pre>

<p>错误2：中文乱码</p>

<pre><code>error: invalid byte sequence in GBK. Use --trace to view backtrace

jekyll 1.3.0版本以后的，修改如下： 打开路径 C:\Ruby193\lib\ruby\gems\1.9.1\gems\jekyll-1.5.1\lib\jekyll，打开 convertible.rb

self.content = File.read_with_options(File.join(base, name),
merged_file_read_opts(opts))

改成

self.content = File.read_with_options(File.join(base, name),:encoding=&gt;"utf-8")

打开路径 C:\Ruby200-x64\lib\ruby\gems\2.0.0\gems\jekyll-1.2.0\lib\jekyll\tags，打开include.rb

File.read_with_options(file, file_read_opts(context))

改成

File.read_with_options(file, :encoding=&gt;"utf-8")
</code></pre>

<h2>8、wordpress转md</h2>

<pre><code>参考 http://johnnycode.com/2012/07/10/how-to-migrate-from-wordpress-to-jekyll-running-on-github/

https://github.com/theaob/wpXml2Jekyll
</code></pre>

<br/>
<div style="margin-top:10px;margin-bottom:10px">
  
  <span class="next">
    上篇：
    <a href="/2014/11/Jekyll-Basic.html">
      Jekyll变量 和 Jekyll模板语法教程
    </a>
  </span>
   
  
  <span class="prev">
    下篇：
    <a href="/2014/12/Linux-Samba.html">
      Linux环境下Samba服务器的配置
    </a>
  </span>
  
</div>
<hr>
<!-- Blog Comments -->
<div class="media">
    <!-- UY BEGIN -->
  <div id="uyan_frame">
  </div>
  <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1511840">
  </script>
  <!-- UY END --> 
</div>

        </article>
      </div>
    </div>
    <footer>
      <div class="owner">

      <p><a href="https://github.com/mwb1219" class="avatar"><img src="https://avatars1.githubusercontent.com/u/9292203?v=3&amp;s=60" width="48" height="48"></a>View <a href="https://github.com/mwb1219">mwb1219</a> on <a href="https://www.github.com">GitHub</a></p>

      </div>
      <div class="creThis page generated using <a href="http://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a>i>

</ul></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/mwb1219/mwb1219.github.io/tarball/master" class="tar">tar</a><a href="https://github.com/mwb1219/mwb1219.github.io/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>
  
</body>
</html>