﻿<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="/stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="/javascripts/script.js"></script>

  <title>马文斌@博客</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">马文斌@博客</h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/mwb1219" class="code">阅读正文</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
		
<!-- Blog Post -->
<!-- Title -->
<h2>
  Githug通关全攻略
  <div class="post-date"><a href="https://github.com/panxw/panxw.github.com/edit/master/_posts/2014-11-27-Git-GitHug.md" target="_blank">纠错</a>&nbsp;&nbsp;
	<span class="glyphicon glyphicon-time"></span>
	27 Nov 2014
  </div>
</h2>
<!-- Author -->
<hr>
 <article class="markdown-body"><p>Githug将git的入门与游戏相结合，太有意思了。</p>

<h2>准备</h2>

<pre><code>安装Githug：**$ gem install githug**。
安装完成后直接执行**$ githug**开始游戏，同一条命令进入下一关。
$ githug hint查看过关提示，
当操作错误无法过关时，可以$ githug reset重置当前关卡。
</code></pre>

<h2>开始</h2>

<h3>1、初始化git项目</h3>

<pre><code>$ cd git_hug
$ git init
</code></pre>

<h3>2、stage一个文件</h3>

<pre><code>$ git add README
</code></pre>

<h3>3、提交已stage的文件</h3>

<pre><code>$ git commit -m '-'
</code></pre>

<h3>4、配置git用户信息</h3>

<pre><code>$ git config user.name xxx
$ git config user.email xxx@gmail.com
</code></pre>

<p>或者直接在.git/config文件里添加</p>

<pre><code>[user]
        name = xxx
        email = xxx@gmail.com
</code></pre>

<p>回答时分别输入xxx和xxx@gmail.com</p>

<p><strong>扩展</strong></p>

<p>使用--global参数修改本机全局设置</p>

<pre><code>$ git config --global user.name = xxx
</code></pre>

<p><strong>问题</strong></p>

<p>命令行里不要带等号$ git config user.name = xxx, 否则去文件里查时会发现等号变成值name = =。 (之前好像可以用的？待解决)</p>

<h3>5、检出一个已有项目</h3>

<pre><code>$ git clone https://github.com/Gazler/cloneme
</code></pre>

<h3>6、检出项目并重命名</h3>

<pre><code>$ git clone https://github.com/Gazler/cloneme my_cloned_repo
</code></pre>

<h3>7、配置忽略文件规则</h3>

<pre><code>在.gitignore文件里添加
*.swp
</code></pre>

<h3>8、查看状态</h3>

<pre><code>$ git status查看， 得到答案为database.yml
</code></pre>

<h3>9、删除文件</h3>

<pre><code>$ git status查看，发现被删文件名为deleteme.rb
$ git rm deleteme.rb
</code></pre>

<h3>10、将文件移出git但不删除文件</h3>

<pre><code>$ git rm --cached deleteme.rb
</code></pre>

<h3>11、保存项目当前状态但不提交（新，实用）</h3>

<pre><code>$ git stash
</code></pre>

<h3>12、重命名文件</h3>

<pre><code>$ git mv oldfile.txt newfile.txt
</code></pre>

<h3>13、查看提交历史</h3>

<pre><code>$ git log查看提交历史记录，答案为commit后长字符串的前7位
</code></pre>

<h3>14、tag</h3>

<pre><code>$ git tag 'new_tag'
</code></pre>

<h3>15、将新修改并入上一次提交</h3>

<pre><code>$ git add forgotten_file.rb
$ git commit --amend
</code></pre>

<p>写完注释后保存退出（vi是:qw，应该都会吧）</p>

<h3>16、unstage一个文件</h3>

<pre><code>$ git reset HEAD to_commit_second.rb
</code></pre>

<h3>17、取消上一次提交</h3>

<pre><code>$ git reset --soft HEAD^
</code></pre>

<h3>18、恢复文件修改</h3>

<pre><code>$ git checkout config.rb
</code></pre>

<h3>19、查看remote信息</h3>

<pre><code>$ tail .git/config查看remote信息， 答案为my_remote_repo
</code></pre>

<h3>20、查看remote链接</h3>

<pre><code>同上，答案为https://github.com/githug/not_a_repo
</code></pre>

<h3>21、pull</h3>

<pre><code>$ git pull origin master
</code></pre>

<h3>22、关联远程库(新项目必备)</h3>

<pre><code>$ git remote add origin https://github.com/githug/githug
</code></pre>

<h3>23、合并：rebase(与merge做对比)</h3>

<pre><code>$ git rebase origin/master
$ git push
</code></pre>

<h3>24、查看变动</h3>

<pre><code>通过$ git diff app.rb查看文件改动，
显示行号为23，改动在下面第3行，所以答案为26。
</code></pre>

<h3>25、跟踪具体代码行作者</h3>

<pre><code>$ git blame config.rb查看修改记录，发现密码出现在第五行。 在这行的左边可以看到提交者为Spider Man（卖萌了）。
</code></pre>

<h3>26、新建分支</h3>

<pre><code>$ git branch test_code
</code></pre>

<h3>27、新建并进入分支</h3>

<pre><code>$ git checkout -b my_branch
</code></pre>

<h3>28、按标签检出</h3>

<pre><code>$ git checkout v1.2
</code></pre>

<h3>29、按版本编号检出至新分支</h3>

<pre><code>查看提交历史，找到第二条的id，输入时只需要输入前几位即可
$ git branch test_branch -v 7cd3aa021
</code></pre>

<h3>30、合并分支</h3>

<pre><code>$ git merge feature
</code></pre>

<h3>31、仅从分支合并指定提交</h3>

<pre><code>$ git branch查看分支列表，得到分支名。
$ git log new-feature查看分支提交记录。 最后合并：
$ git cherry-pick ca32a6da
</code></pre>

<h3>32、修改历史提交日志</h3>

<pre><code>查看历史记录，发现错误在倒数第二次提交上
$ git rebase -i HEAD~2
</code></pre>

<p>进入编辑页面，将需要改动的行（第一行）的pick改为reword （注意，只需要通过reword来标记，不要修改拼写）。 保存退出后在弹出的第二个窗口里修改拼写错误commmit改为commit。</p>

<h3>33、合并历史提交（清洁日志）</h3>

<pre><code>查看历史记录发现最后3次都为同一个文件的修改，可以合并
$ git rebase -i HEAD~3
</code></pre>

<p>将弹出编辑页的第2、3行的pick改为squash， 第二个弹出页直接保存退出即可。</p>

<h3>34、从分支合并时仅保存为一次提交</h3>

<pre><code>$ git merge --squash long-feature-branch
$ git commit -a -m 'merge branch long-feature-branch'
</code></pre>

<h3>35、更改历史提交顺序</h3>

<pre><code>查看历史记录发现最后两次提交顺序错误
$ git rebase -i HEAD~2
</code></pre>

<p>然后在弹出编辑页的前两行顺序调换。</p>

<h3>36、二叉树排错（很强大，侧面看出测试驱动重要性）</h3>

<pre><code>$ git log --reverse -p prog.rb查看最初一次为正确提交，版本号为f608824888
$ git bisect start
$ git bisect good f608824888
$ git bisect bad
$ git bisect run make test
//$ git reset
</code></pre>

<p>日志里…… is the first bad commit 所以回答18ed2ac</p>

<h3>37、仅stage一个文件的一部分</h3>

<pre><code>查看文件可知需要stage的是第二行（…the first feature）。
$ git add -p feature.rb
</code></pre>

<p>出现提示如何处理，输入e来编辑提交内容，
在弹出编辑页面删除第5行（…the first feature）， 因为不在本次stage操作内，保存退出。</p>

<h3>38、查看操作历史</h3>

<pre><code>$ git reflog
</code></pre>

<p>查看到日志第2行...checkout: moving from solve_world_hunger to kill_the_batman...
$ git checkout solve_world_hunger</p>

<h3>39、回滚某次提交历史</h3>

<pre><code>查看历史记录，发现倒数第二次提交需要取消
$ git revert HEAD~1
</code></pre>

<p>直接保存并退出</p>

<h3>40、通过操作日志，挽救git reset --hard HEAD^的误操作</h3>

<pre><code>$ git reflog查看日志，发现需要回覆至版本804db65(每次版本号可能不同)。
$ git checkout 804db65
</code></pre>

<h3>41、合并分支并处理冲突</h3>

<pre><code>$ git merge mybranch

编辑poem.txt文件，处理冲突
$ git add poem.txt
$ git ci -m 'merge mybranch`
</code></pre>
</article>
<br/>
<div style="margin-top:10px;margin-bottom:10px">
  
  <span class="next">
    上篇：
    <a href="/2014/11/Distributed-Message-Passing-ZookKeeper.html">
      ZooKeeper安装
    </a>
  </span>
   
  
  <span class="prev">
    下篇：
    <a href="/2014/11/Jekyll-Basic.html">
      Jekyll变量 和 Jekyll模板语法教程
    </a>
  </span>
  
</div>
<hr>
<!-- Blog Comments -->
<div class="media">
    <!-- UY BEGIN -->
  <div id="uyan_frame">
  </div>
  <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1511840">
  </script>
  <!-- UY END --> 
</div>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/mwb1219" class="avatar"><img src="https://avatars1.githubusercontent.com/u/9292203?v=3&amp;s=60" width="48" height="48"></a>View <a href="https://github.com/mwb1219">mwb1219</a> on <a href="https://www.github.com">GitHub</a></p>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/mwb1219/mwb1219.github.io/tarball/master" class="tar">tar</a><a href="https://github.com/mwb1219/mwb1219.github.io/zipball/master" class="zip">zip</a>
	<a href="" class="code">source code</a>
    <p class="name"></p>
  </div>
  
</body>
</html>