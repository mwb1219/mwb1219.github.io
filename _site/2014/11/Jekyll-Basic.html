﻿<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/pygment_trac.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>马文斌@博客</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">马文斌@博客</h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
        <article class="markdown-body">
<!-- Blog Post -->
<!-- Title -->
<h2>
  Jekyll变量 和 Jekyll模板语法教程
  <div class="post-date"><a href="https://github.com/panxw/panxw.github.com/edit/master/_posts/2014-11-27-Jekyll-Basic.md" target="_blank">纠错</a>&nbsp;&nbsp;
	<span class="glyphicon glyphicon-time"></span>
	27 Nov 2014
  </div>
</h2>
<!-- Author -->
<hr>
<h2>1、Jekyll 标准目录树</h2>

<pre><code>_config.yml   Jekyll的配置文件
_includes     include 文件所在的文件夹
_layouts      模版文件夹
_posts        自己要发布的内容
_sites        预览时产生的文件都放在该文件夹中
</code></pre>

<h2>2、Jekyll的安装及配置</h2>

<pre><code>_includes文件夹中所放的文件是最终要放到模版中的一些代码片段。
_layouts中放的一些模版，模版是用包含page或post内容的。Jekyll的模版使用HTML语法来写，并包含YAML Front Matter。
所有的模版都可用Liquid来与网站进行交互。所的的模版都可以使用全局变量site和page，site变量包含该网站所有可以接触得到的内容和元数据(meta-data)，
page变量包含的是当前渲染的page或post的所有可以接触得到的数据。

_post文件夹中放的是自己要发布的post文章。post文件的命名规则为YEAR-MONTH-DATE-title.MARKUP，使用rake post会自动将post文件命名合适。
而对于page，所有放在根目录下或不以下划线开头的文件夹中有格式的文件都会被Jekyll处理成page。这里说的有格式是指文件含有YAML Front Matter。
所有的post和page都要用markdown或者texile或者HTML语法来写，并可以包含Liquid模版的语法。还要有 YAML Front Matter (Jekyll只处理具有YAML Front Matter的文件)。
YAML Front Matter必须放在文件的开头，一对---之间，用户可在这一对---间设置预先定义的变量或用户自己的数据：变量或用户自己的数据 
</code></pre>

<h2>3、Jekyll模板全局变量</h2>

<pre><code>变量          描述
site         全站的信息+_config.yml文件中的配置选项
page         这个变量中包含YAML前置数据,另外加上两个额外的变量值:url和content。
content      在布局模板文件中，这里变量包含了页面的子视图。这个变量将会把渲染后的内容插入到模板文件中。
             这个变量不能在文章和页面文件中使用。
paginator    一旦paginate配置选项被设置了，这个变量才能被使用。
</code></pre>

<h3>3.1、Jekyll模板Site变量</h3>

<pre><code>变量                      描述
site.time               当前的时间(当你运行Jekyll时的时间)
site.posts              一个按时间逆序的文章列表。
site.related_posts      如果当前被处理的页面是一个文章文件，那这个变量是一个包含了最多10篇相关文章的列表。
                        默认来说，这些相关文章是低质量但计算快的。为了得到高质量但计算慢的结果，
                        运行Jekyll命令时可以加上--lsi选项。(潜在语意索引)
site.categories.CATEGORY    所有在CATEGORY分类中的文章列表
site.tags.TAG           所有拥有TAG标签的文章的列表
site.[CONFIGURATION_DATA]   截止0.5.2版本，所有在_config.yml中的数据都能够通过site变量调用。
                        举例来说，如果你有一个这样的选项在你的配置文件中:url: http://higrid.net，那在文章和页面文件中可以这样调用{ { site.url } }。
                        Jekyll并不会自动解析修改过的_config.yml文件，你想要启用新的设置选项，你需要重启Jekyll
</code></pre>

<h3>3.2、Jekyll模板Page变量</h3>

<pre><code>变量  描述
page.content        页面中未渲染的内容
page.title          文章的标题
page.url            除去域名以外的URL，例子:/2013/12/14/higrid-net.html
page.date           指定每一篇文章的时间，这个选项能够覆盖一篇文章中前置数据设置的时间，它的格式是这样的:YYYY-MM-DD HH:MM:SS

page.id             每一篇文章的唯一标示符(在RSS中非常有用) 例子：/2008/12/14/higrid-net

page.categories     这篇文章隶属的分类的一个列表，分类是通过在_post目录中的目录结构推导而来的。
                    举例来说，在路径/work/code/_posts/2008-12-24-closures.textile下的文件，
                    这个变量将会是[work,code]。这个变量也能在YAML前置数据中被指定。

page.tags           这篇文章的标签的列表。这些数据能够在YAML前置数据中指定
page.next           按时间序的下一篇文章
page.content        按时间序的上一篇文章
</code></pre>

<p><strong>注意:</strong>任何你自己指定的自定义前置数据都能够通过page调用。举例来说，如果你在页面的前置数据中设置了custom_css: true，那这个值可以在模板可以这样调用:page.custom_css</p>

<h3>3.3、Jekyll模板Paginator变量</h3>

<pre><code>变量                      描述
paginator.per_page      每一个页面上文章的数量
paginator.posts         当前页面上可用的文章
paginator.total_posts   所有文章的数量
paginator.total_pages   所有页面的数量
paginator.page          当前页面的数量
paginator.previous_page 前面的页面的数量
paginator.next_page     接下来的的页面的数量
</code></pre>

<p><strong>原文地址:</strong> <a href="https://github.com/mojombo/jekyll/wiki/Template-Data">https://github.com/mojombo/jekyll/wiki/Template-Data</a></p>

<p><strong>gitHub博客模板网址</strong>：<a href="https://github.com/mojombo/jekyll/wiki/sites">https://github.com/mojombo/jekyll/wiki/sites</a></p>

<br/>
<div style="margin-top:10px;margin-bottom:10px">
  
  <span class="next">
    上篇：
    <a href="/2014/11/Git-GitHug.html">
      Githug通关全攻略
    </a>
  </span>
   
  
  <span class="prev">
    下篇：
    <a href="/2014/11/Jekyll-Install.html">
      Jekyll安装及写静态博客
    </a>
  </span>
  
</div>
<hr>
<!-- Blog Comments -->
<div class="media">
    <!-- UY BEGIN -->
  <div id="uyan_frame">
  </div>
  <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1511840">
  </script>
  <!-- UY END --> 
</div>

        </article>
      
    </div>
    <footer>
      <div class="owner">

      <p><a href="https://github.com/mwb1219" class="avatar"><img src="https://avatars1.githubusercontent.com/u/9292203?v=3&amp;s=60" width="48" height="48"></a>View <a href="https://github.com/mwb1219">mwb1219</a> on <a href="https://www.github.com">GitHub</a></p>

      </div>
      <div class="creThis page generated using <a href="http://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a>i>

</ul></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/mwb1219/mwb1219.github.io/tarball/master" class="tar">tar</a><a href="https://github.com/mwb1219/mwb1219.github.io/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>
  
</body>
</html>